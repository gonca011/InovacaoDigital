<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ConteÃºdos - LEARNHUB</title>
  <link rel="stylesheet" href="/Back-Office/Gestor/css/DetalheOcorrencia.css" />
  <link rel="icon" href="/Back-Office/Gestor/Imagens/Logo.png?v=2" type="image/x-icon" />
</head>
<body>
  <div class="sidebar">
    <div class="logo">
      <img src="/Back-Office/Gestor/Imagens/Logo.png" alt="LEARNHUB" />
    </div>
    <nav>
      <ul>
        <li><a data-page="Geral.html" href="Geral.html">ğŸ  VisÃ£o Geral</a></li>
        <li><a data-page="Horario.html" href="Horario.html">ğŸ—“ï¸ HorÃ¡rio</a></li>
        <li><a data-page="Alunos.html" href="Alunos.html">ğŸ‘¥ Alunos</a></li>
        <li><a class="active" data-page="Conteudos.html" href="Conteudos.html">ğŸ“š ConteÃºdos</a></li>        
      </ul>
    </nav>
    <div class="add-auditoria"> 
      <a href="/Back-Office/Gestor/html/AdicionarConteudo.html">
        <button>+ Adicionar ConteÃºdos</button>
      </a>
    </div>
    <div class="user-info">
      <p id="user-name">Utilizador nÃ£o logado</p>
      <p id="user-email">Sem e-mail</p>
    </div>
  </div>

  <!-- CONTEÃšDO PRINCIPAL -->
  <div class="content">
    <header class="content-header">
      <h1>ConteÃºdos</h1>
    </header>

    <section class="contents-container">
      <!-- Toggle Centro vs App -->
      <div class="content-source-toggle">
        <button class="source-btn active" data-source="centro">
          ConteÃºdos do Centro de Estudos
        </button>
        <button class="source-btn" data-source="app">
          Materiais Inovadores da AplicaÃ§Ã£o
        </button>
      </div>

      <!-- Filtros -->
      <div class="content-filters">
        <div class="filter-group">
          <label for="filter-year">Ano</label>
          <select id="filter-year">
            <option value="all">Todos os anos</option>
            <option value="1">1Âº ano</option>
            <option value="2">2Âº ano</option>
            <option value="3">3Âº ano</option>
            <option value="4">4Âº ano</option>
            <option value="5">5Âº ano</option>
            <option value="6">6Âº ano</option>
            <option value="7">7Âº ano</option>
            <option value="8">8Âº ano</option>
            <option value="9">9Âº ano</option>
            <option value="10">10Âº ano</option>
            <option value="11">11Âº ano</option>
            <option value="12">12Âº ano</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-subject">Disciplina</label>
          <select id="filter-subject">
            <option value="all">Todas as disciplinas</option>
            <option value="MatemÃ¡tica">MatemÃ¡tica</option>
            <option value="PortuguÃªs">PortuguÃªs</option>
            <option value="FÃ­sico-QuÃ­mica">FÃ­sico-QuÃ­mica</option>
            <option value="Biologia">Biologia</option>
            <option value="HistÃ³ria">HistÃ³ria</option>
            <option value="Geografia">Geografia</option>
            <option value="InglÃªs">InglÃªs</option>
            <option value="Outra">Outra</option>
          </select>
        </div>
      </div>

      <!-- Lista / grid de conteÃºdos -->
      <div id="content-list" class="content-list">
        <!-- Cards criados via JS -->
      </div>

      <p id="no-results" class="no-results" style="display:none;">
        Nenhum conteÃºdo encontrado com estes filtros.
      </p>
    </section>
  </div>

  <script>
    // Dados de exemplo (podes depois substituir por dados reais)
    const contents = [
      {
        id: 1,
        title: 'Fichas de revisÃ£o de fraÃ§Ãµes',
        source: 'centro',
        year: 6,
        subject: 'MatemÃ¡tica',
        type: 'Ficha',
        description: 'Conjunto de exercÃ­cios guiados para consolidar fraÃ§Ãµes e nÃºmeros mistos.'
      },
      {
        id: 2,
        title: 'LaboratÃ³rio Interativo de FunÃ§Ãµes',
        source: 'app',
        year: 10,
        subject: 'MatemÃ¡tica',
        type: 'Atividade Interativa',
        description: 'ExploraÃ§Ã£o visual de funÃ§Ãµes com sliders e feedback imediato.'
      },
      {
        id: 3,
        title: 'Resumo: RevoluÃ§Ã£o Francesa',
        source: 'centro',
        year: 9,
        subject: 'HistÃ³ria',
        type: 'Resumo',
        description: 'Mapa mental e resumo em bullet points dos principais acontecimentos.'
      },
      {
        id: 4,
        title: 'Desafio Gamificado de VocabulÃ¡rio',
        source: 'app',
        year: 7,
        subject: 'InglÃªs',
        type: 'Jogo',
        description: 'Mini-jogo com nÃ­veis de dificuldade e pontuaÃ§Ã£o para praticar vocabulÃ¡rio.'
      },
      {
        id: 5,
        title: 'ExercÃ­cios de funÃ§Ãµes quadrÃ¡ticas',
        source: 'centro',
        year: 11,
        subject: 'MatemÃ¡tica',
        type: 'ExercÃ­cios',
        description: 'Lista de exercÃ­cios progressivos para funÃ§Ãµes quadrÃ¡ticas e raÃ­zes.'
      }
    ];

    let activeSource = 'centro'; // comeÃ§ar com conteÃºdos do centro

    const contentListEl = document.getElementById('content-list');
    const noResultsEl = document.getElementById('no-results');
    const sourceButtons = document.querySelectorAll('.source-btn');
    const yearFilterEl = document.getElementById('filter-year');
    const subjectFilterEl = document.getElementById('filter-subject');

    sourceButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        sourceButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        activeSource = btn.dataset.source;
        renderContents();
      });
    });

    yearFilterEl.addEventListener('change', renderContents);
    subjectFilterEl.addEventListener('change', renderContents);

    function yearLabel(year) {
      return `${year}Âº ano`;
    }

    function renderContents() {
      const yearValue = yearFilterEl.value;
      const subjectValue = subjectFilterEl.value;

      const filtered = contents.filter(item => {
        const matchesSource = item.source === activeSource;
        const matchesYear = yearValue === 'all' || item.year === parseInt(yearValue);
        const matchesSubject = subjectValue === 'all' || item.subject === subjectValue;
        return matchesSource && matchesYear && matchesSubject;
      });

      contentListEl.innerHTML = '';

      if (filtered.length === 0) {
        noResultsEl.style.display = 'block';
        return;
      } else {
        noResultsEl.style.display = 'none';
      }

      filtered.forEach(item => {
        const card = document.createElement('div');
        card.className = 'content-card';

        const sourceLabel =
          item.source === 'centro'
            ? 'Centro de Estudos'
            : 'AplicaÃ§Ã£o LEARNHUB';

        card.innerHTML = `
          <div class="content-card-top">
            <span class="content-pill ${
              item.source === 'centro' ? 'pill-centro' : 'pill-app'
            }">
              ${sourceLabel}
            </span>
            <span class="content-meta">
              ${yearLabel(item.year)} Â· ${item.subject} Â· ${item.type}
            </span>
          </div>
          <h3 class="content-title">${item.title}</h3>
          <p class="content-description">${item.description}</p>
        `;

        contentListEl.appendChild(card);
      });
    }

    // inicializar
    renderContents();
  </script>
</body>
</html>
